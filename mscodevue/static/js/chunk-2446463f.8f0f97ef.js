(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2446463f"],{3431:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"filter-container"},[r("el-input",{staticClass:"filter-input filter-item",staticStyle:{"margin-left":"10px","margin-top":"7px"},attrs:{placeholder:"项目名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.reportName,callback:function(t){e.$set(e.listQuery,"reportName",t)},expression:"listQuery.reportName"}}),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-top":"7px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" "+e._s(e.$t("common.query"))+" ")]),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-refresh-right"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("common.reset"))+" ")]),r("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v(" "+e._s(e.$t("common.add"))+" ")]),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.downloadLoading,type:"primary"},on:{click:e.handleDownload}},[r("svg-icon",{staticStyle:{"margin-right":"5px"},attrs:{"icon-class":"excel"}}),e._v(" "+e._s(e.$t("common.export"))+" ")],1),r("el-button",{staticClass:"filter-item",attrs:{type:"danger",plain:"",icon:"el-icon-delete"},on:{click:e.handleDelete}},[e._v(" "+e._s(e.$t("common.delete"))+" ")])],1),r("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"35"}}),r("el-table-column",{attrs:{label:"项目编号",prop:"reportId",width:"100"}}),r("el-table-column",{attrs:{label:"项目负责人",prop:"reportPrincipal"}}),r("el-table-column",{attrs:{label:"项目名称",prop:"reportName"}}),r("el-table-column",{attrs:{label:"项目类型",prop:"reportType"}}),r("el-table-column",{attrs:{label:"申报时间","min-width":"100px",prop:"reportTime",sortable:"custom","class-name":e.getSortClass("createTime")}}),r("el-table-column",{attrs:{label:"申报处理",prop:"reportDeal"}}),r("el-table-column",{attrs:{label:e.$t("common.operate"),width:"400px"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row,n=t.$index;return[r("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"small"},on:{click:function(t){return e.handleUpdate(o)}}},[e._v(" "+e._s(e.$t("common.edit"))+" ")]),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.handleDelete(o,n)}}},[e._v(" "+e._s(e.$t("common.delete"))+" ")])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticStyle:{"text-align":"center"},attrs:{total:e.total,page:e.listQuery.currentPage,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"currentPage",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getPage}}),r("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"dataForm",staticStyle:{width:"100%"},attrs:{rules:e.rules,model:e.temp,"label-position":e.labelPosition,"label-width":"90px"}},[r("el-form-item",{attrs:{label:"项目编号",prop:"reportId"}},[r("el-input",{attrs:{placeholder:e.$t("common.enter"),disabled:"update"===e.dialogStatus,maxlength:"32",clearable:""},model:{value:e.temp.reportId,callback:function(t){e.$set(e.temp,"reportId",t)},expression:"temp.reportId"}})],1),r("el-form-item",{attrs:{label:"项目负责人",prop:"reportPrincipal"}},[r("el-input",{attrs:{placeholder:e.$t("common.enter"),maxlength:"64",clearable:""},model:{value:e.temp.reportPrincipal,callback:function(t){e.$set(e.temp,"reportPrincipal",t)},expression:"temp.reportPrincipal"}})],1),r("el-form-item",{attrs:{label:"项目名称",prop:"reportName"}},[r("el-input",{attrs:{type:"textarea",placeholder:e.$t("common.enter"),maxlength:"256",clearable:""},model:{value:e.temp.reportName,callback:function(t){e.$set(e.temp,"reportName",t)},expression:"temp.reportName"}})],1),r("el-form-item",{attrs:{label:"项目类型",prop:"reportType"}},[r("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},model:{value:e.temp.reportType,callback:function(t){e.$set(e.temp,"reportType",t)},expression:"temp.reportType"}},e._l(e.optionsType,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("申报时间:"),prop:"reportTime"}},[r("div",{staticClass:"block"},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.temp.reportTime,callback:function(t){e.$set(e.temp,"reportTime",t)},expression:"temp.reportTime"}})],1)]),r("el-form-item",{attrs:{label:"申报处理",prop:"reportDeal"}},[r("el-input",{attrs:{placeholder:e.$t("common.enter"),maxlength:"64",clearable:""},model:{value:e.temp.reportDeal,callback:function(t){e.$set(e.temp,"reportDeal",t)},expression:"temp.reportDeal"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(" "+e._s(e.$t("common.confirm"))+" ")])],1)],1),r("el-dialog",{attrs:{title:e.$t("sysrole.authorize-menu"),visible:e.menuTreeDialogFormVisible},on:{"update:visible":function(t){e.menuTreeDialogFormVisible=t}}},[r("el-tree",{ref:"menuTreeRef",attrs:{data:e.menuTree,"show-checkbox":"","node-key":"id","highlight-current":"",props:e.defaultProps}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.menuTreeDialogFormVisible=!1}}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createAuthorizeMenu()}}},[e._v(" "+e._s(e.$t("common.confirm"))+" ")])],1)],1),r("el-dialog",{attrs:{title:e.$t("sysrole.authorize-buttontip"),visible:e.menuButtonTreeDialogFormVisible},on:{"update:visible":function(t){e.menuButtonTreeDialogFormVisible=t}}},[r("el-tree",{ref:"menuButtonTreeRef",attrs:{data:e.menuButtonTree,"show-checkbox":"","node-key":"key","highlight-current":"",props:e.defaultProps}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.menuButtonTreeDialogFormVisible=!1}}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createAuthorizeMenuButton()}}},[e._v(" "+e._s(e.$t("common.confirm"))+" ")])],1)],1),r("el-dialog",{attrs:{title:"项目申报审核",visible:e.dialog,width:"50%"},on:{"update:visible":function(t){e.dialog=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"申报处理"}},[r("el-select",{attrs:{placeholder:"--请选择--"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[r("el-option",{attrs:{label:"--请选择--"}}),r("el-option",{attrs:{label:"审核不通过"}}),r("el-option",{attrs:{label:"审核通过"}})],1)],1),r("el-form-item",{attrs:{label:"处理意见"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),r("el-form-item",[r("el-button",{on:{click:function(t){e.showDialog=!1}}},[e._v("确认")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showDialog=!1}}},[e._v("取消")])],1)],1)],1)],1)},n=[],i=(r("a15b"),r("d81d"),r("50fc")),a=r("6724"),l=r("333d"),s=r("4328"),c=r.n(s),u=r("21a6"),d=r("49e5"),p={name:"SysRole",components:{Pagination:l["a"]},directives:{waves:a["a"]},data:function(){return{dialogVisible:!1,showDialog:!1,dialog:!1,conAdd:!1,conDelete:!1,list:{},form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},options:[{value:"选项1"}],optionsType:[{value:"创新创业项目",label:"创新创业项目"}],valueType:"",tableKey:0,labelPosition:"right",total:0,listLoading:!0,listQuery:{currentPage:1,pageSize:10,reportName:void 0,sorter:"createTime_descend"},temp:{},multipleSelection:[],menuTreeDialogFormVisible:!1,menuTree:[],defaultProps:{children:"children",label:"title"},menuButtonTree:[],menuButtonTreeDialogFormVisible:!1,dialogFormVisible:!1,dialogStatus:"",textMap:{update:this.$t("common.edit"),create:this.$t("common.add")},rules:{reportId:[{required:!0,validator:this.checkReportId,trigger:["blur","change"]}],reportPrincipal:[{required:!0,validator:this.checkReportPrincipal,trigger:["blur","change"]}],reportName:[{required:!0,validator:this.checkReportName,trigger:["blur","change"]}],reportType:[{required:!0,validator:this.checkReportType,trigger:["blur","change"]}],reportTime:[{required:!0,validator:this.checkReportTime,trigger:["blur","change"]}],reportDeal:[{required:!0,validator:this.checkReportDeal,trigger:["blur","change"]}]},downloadLoading:!1}},created:function(){window.innerWidth<700&&(this.labelPosition="top"),this.getPage()},methods:{dateFormat:function(e,t,r){return r?fecha.format(new Date(r),"yyyy-MM-dd HH:mm:ss"):""},onSubmit:function(){console.log("submit!")},getList:function(){var e=this;this.listLoading=!0,Object(d["g"])().then((function(t){e.list=t.data,e.total=t.data.length,e.listLoading=!1,console.log(e.list)}))},getPage:function(){var e=this;Object(d["h"])(this.listQuery).then((function(t){e.list=t.data.list,e.total=t.data.pagination.total,e.listLoading=!1,console.log(e.total)}))},handleFilter:function(){this.listQuery.currentPage=1,this.getPage()},handleReset:function(){this.listQuery.reportName="",this.handleFilter()},sortChange:function(e){var t=e.prop,r=e.order;"createTime"===t&&this.sortByCreateTime(r)},sortByCreateTime:function(e){this.listQuery.sorter="ascending"===e?"createTime_ascend":"createTime_descend",this.handleFilter()},handleSelectionChange:function(e){this.multipleSelection=e},resetTemp:function(){this.temp={id:void 0}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;Object(d["a"])(this.temp).then((function(t){"success"===t.message?(e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$message({message:e.$t("common.add-success"),type:"success",duration:2e3}),e.handleReset()):e.handleWarning(t)}))},handleUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this,t={};t.reportId=this.temp.reportId,t.reportPrincipal=this.temp.reportPrincipal,t.reportName=this.temp.reportName,t.reportType=this.temp.reportType,t.reportTime=this.temp.reportTime,t.reportDeal=this.temp.reportDeal,Object(d["j"])(t).then((function(t){"success"===t.message?(e.dialogFormVisible=!1,e.$message({message:e.$t("common.edit-success"),type:"success",duration:2e3}),e.handleReset()):e.handleWarning(t)}))},handleDelete:function(e,t){var r=this;if(e.reportId)this.delete(e.reportId);else{if(0===this.multipleSelection.length)return void this.handleWarning(this.$t("common.choose-delete"));this.$confirm(this.$t("common.confirm-batch-delete"),this.$t("common.batch-delete"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then((function(){r.delete(r.multipleSelection.map((function(e){return e.reportId})).join(","))})).catch((function(){}))}},delete:function(e){var t=this;Object(d["c"])(e).then((function(e){"success"===e.message?(t.$message({message:t.$t("common.delete-success"),type:"success",duration:2e3}),t.handleReset()):t.handleWarning(e)}))},handleAuthorizeMenu:function(e){var t=this;this.roleId=e,Object(i["k"])().then((function(e){t.menuTree=e.data})),Object(i["g"])(e).then((function(e){t.$refs.menuTreeRef.setCheckedKeys(e.data)})),this.menuTreeDialogFormVisible=!0},createAuthorizeMenu:function(){var e=this;this.temp.roleId=this.roleId,this.temp.menuId=this.$refs.menuTreeRef.getCheckedKeys().join(","),Object(i["c"])(c.a.stringify(this.temp)).then((function(t){"success"===t.message?(e.menuTreeDialogFormVisible=!1,e.$message({message:e.$t("common.authorize-success"),type:"success",duration:2e3})):e.handleWarning(t)}))},handleAuthorizeMenuButton:function(e){var t=this;this.roleCode=e,Object(i["j"])().then((function(e){t.menuButtonTree=e.data})),Object(i["f"])(e).then((function(e){t.$refs.menuButtonTreeRef.setCheckedKeys(e.data)})),this.menuButtonTreeDialogFormVisible=!0},createAuthorizeMenuButton:function(){var e=this;this.temp.roleCode=this.roleCode,this.temp.menuButton=this.$refs.menuButtonTreeRef.getCheckedKeys().join(","),Object(i["b"])(c.a.stringify(this.temp)).then((function(t){"success"===t.message?(e.menuButtonTreeDialogFormVisible=!1,e.$message({message:e.$t("common.authorize-success"),type:"success",duration:2e3})):e.handleWarning(t)}))},handleDownload:function(){this.downloadLoading=!0;var e={};e.reportName=this.listQuery.reportName,Object(d["e"])(c.a.stringify(e)).then((function(e){Object(u["saveAs"])(e,"项目申报管理.xls")})),this.downloadLoading=!1},getSortClass:function(e){var t=this.listQuery.sorter;return t==="".concat(e,"_ascend")?"ascending":"descending"},handleWarning:function(e){this.$message({message:e.message||e,type:"warning",duration:2e3})},checkReportPrincipal:function(e,t,r){if(!t)return r(new Error(this.$t("generator.moduleName-required")));r()},checkReportId:function(e,t,r){if(!t)return r(new Error("请输入项目编号"));r()},checkReportPrincipalaa:function(e,t,r){if(!t)return r(new Error("请输入项目负责人"));r()},checkReportName:function(e,t,r){if(!t)return r(new Error("请输入项目名称"));r()},checkReportType:function(e,t,r){if(!t)return r(new Error("请输入项目类型"));r()},checkReportTime:function(e,t,r){if(!t)return r(new Error("请选择申报时间"));r()},checkReportDeal:function(e,t,r){if(!t)return r(new Error("请输入项目处理结果"));r()}}},m=p,h=r("2877"),f=Object(h["a"])(m,o,n,!1,null,null,null);t["default"]=f.exports},"49e5":function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"i",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"k",(function(){return l})),r.d(t,"d",(function(){return s})),r.d(t,"g",(function(){return c})),r.d(t,"h",(function(){return u})),r.d(t,"a",(function(){return d})),r.d(t,"j",(function(){return p})),r.d(t,"c",(function(){return m})),r.d(t,"e",(function(){return h}));var o=r("b775");function n(){return Object(o["a"])({url:"api/student/student/findStudentAll",method:"get"})}function i(e){return Object(o["a"])({url:"api/student/student/findStudentByCondition",method:"get",params:e})}function a(e){return Object(o["a"])({url:"api/student/student/addStudent",method:"post",data:e})}function l(e){return Object(o["a"])({url:"api/student/student/updateStudent",method:"put",data:e})}function s(e){return Object(o["a"])({url:"api/student/student/deleteStudentById",method:"post",params:{id:e}})}function c(){return Object(o["a"])({url:"api/student/projectreport/findProjectReportAll",method:"get"})}function u(e){return Object(o["a"])({url:"api/student/projectreport/findProjectReportByCondition",method:"get",params:e})}function d(e){return Object(o["a"])({url:"api/student/projectreport/addProjectReport",method:"post",data:e})}function p(e){return Object(o["a"])({url:"api/student/projectreport/updateProjectReport",method:"put",data:e})}function m(e){return Object(o["a"])({url:"api/student/projectreport/deleteProjectReportById",method:"post",params:{id:e}})}function h(e){return Object(o["a"])({url:"api/student/projectreport/exportProjectReport",method:"post",responseType:"blob",data:e})}}}]);